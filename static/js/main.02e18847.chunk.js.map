{"version":3,"sources":["components/header/Header.module.css","redux/auth/authOperations.js","components/userNavMenu/UserNavMenu.module.css","components/authNav/AuthNav.module.css","redux/auth/authActions.js","redux/filter/filterActions.js","redux/auth/authSelector.js","routes/mainRoutes.js","components/authNav/AuthNav.js","components/userNavMenu/UserNavMenu.js","components/header/Header.js","components/privateRoute/PrivateRoute.js","components/publicRoute.js/PublicRoute.js","components/main/Main.js","components/App.js","redux/auth/authReducer.js","redux/contacts/contactsReducer.js","redux/filter/filterReducer.js","redux/rootReducer.js","redux/store.js","index.js","redux/contacts/contactsActions.js"],"names":["module","exports","axios","defaults","baseURL","token","headers","common","Authorization","registerUser","userData","dispatch","a","registerRequest","post","response","data","registerSuccess","registerError","message","loginUser","loginRequest","loginSuccess","loginError","logoutUser","logoutRequest","logoutSuccess","logoutError","getCurrentUser","getState","persistedToken","auth","getCurrentUserRequest","get","getCurrentUserSuccess","createAction","getCurrentUserError","updateFilterValue","getIsAuthenticated","state","isAuthenticated","getUsername","user","name","mainRoutes","path","component","lazy","exact","redirectTo","private","restricted","homepage","phonebook","resetHomeUrl","AuthNav","map","el","className","styles","header__link","activeClassName","header__link_active","to","connect","username","nav_user","nav_user__name","nav_user__button","type","onClick","header","header__nav","logo__link","logo__link_active","user__wrapper","Component","routeProps","render","props","Main","fallback","App","this","createReducer","email","_","payload","setError","error","authReducer","combineReducers","contactsItemReducer","fetchContactsSuccess","addContactSuccess","removeContactSuccess","filter","id","loader","fetchContactsError","addContactError","removeContactError","fetchContactsRequest","addContactRequest","removeContactRequest","contactsFilterReducer","rootReducer","items","isLoading","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","contacts","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","reduxStore","persistor","persistStore","ReactDOM","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.02e18847.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2bJlH\",\"header__nav\":\"Header_header__nav__1fxAl\",\"logo__link\":\"Header_logo__link__1uEe1\",\"user__wrapper\":\"Header_user__wrapper__29RIU\",\"logo__link_active\":\"Header_logo__link_active__1uM33\"};","import axios from \"axios\";\r\nimport {\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  loginError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  logoutError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  registerError,\r\n  registerRequest,\r\n  registerSuccess,\r\n} from \"./authActions\";\r\n\r\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = \"\";\r\n  },\r\n};\r\n\r\nexport const registerUser = (userData) => async (dispatch) => {\r\n  dispatch(registerRequest());\r\n  try {\r\n    const response = await axios.post(\"/users/signup\", userData);\r\n\r\n    token.set(response.data.token);\r\n    dispatch(registerSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(registerError(error.message));\r\n  }\r\n};\r\n\r\nexport const loginUser = (userData) => async (dispatch) => {\r\n  dispatch(loginRequest());\r\n\r\n  try {\r\n    const response = await axios.post(\"/users/login\", userData);\r\n\r\n    token.set(response.data.token);\r\n    dispatch(loginSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(loginError(error.message));\r\n  }\r\n};\r\n\r\nexport const logoutUser = () => async (dispatch) => {\r\n  dispatch(logoutRequest());\r\n\r\n  try {\r\n    await axios.post(\"/users/logout\");\r\n\r\n    token.unset();\r\n    dispatch(logoutSuccess());\r\n  } catch (error) {\r\n    dispatch(logoutError(error.message));\r\n  }\r\n};\r\n\r\nexport const getCurrentUser = () => async (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) return;\r\n\r\n  token.set(persistedToken);\r\n  dispatch(getCurrentUserRequest());\r\n\r\n  try {\r\n    const response = await axios.get(\"/users/current\");\r\n\r\n    dispatch(getCurrentUserSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(logoutError(error.message));\r\n  }\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav_user\":\"UserNavMenu_nav_user__Q55pD\",\"nav_user__name\":\"UserNavMenu_nav_user__name__20oWI\",\"nav_user__button\":\"UserNavMenu_nav_user__button__Ycr7h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header__link\":\"AuthNav_header__link__2-cfZ\",\"header__link_active\":\"AuthNav_header__link_active___ocUY\"};","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const registerRequest = createAction(\"auth/registerRequest\");\r\nexport const registerSuccess = createAction(\"auth/registerSuccess\");\r\nexport const registerError = createAction(\"auth/registerError\");\r\n\r\nexport const loginRequest = createAction(\"auth/loginRequest\");\r\nexport const loginSuccess = createAction(\"auth/loginSuccess\");\r\nexport const loginError = createAction(\"auth/loginError\");\r\n\r\nexport const logoutRequest = createAction(\"auth/logoutRequest\");\r\nexport const logoutSuccess = createAction(\"auth/logoutSuccess\");\r\nexport const logoutError = createAction(\"auth/logoutError\");\r\n\r\nexport const getCurrentUserRequest = createAction(\"auth/getCurrentRequest\");\r\nexport const getCurrentUserSuccess = createAction(\"auth/getCurrentSuccess\");\r\nexport const getCurrentUserError = createAction(\"auth/getCurrentError\");\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const updateFilterValue = createAction(\"updateFilterValue\");\r\n","export const getIsAuthenticated = (state) => state.auth.isAuthenticated;\r\nexport const getUsername = (state) => state.auth.user.name;\r\n","import { lazy } from \"react\";\r\n\r\nexport const mainRoutes = {\r\n  auth: [\r\n    {\r\n      name: \"Register\",\r\n      path: \"/register\",\r\n      component: lazy(() =>\r\n        import(\"../pages/RegisterPage\" /* webpackChunkName: 'RegisterPage' */)\r\n      ),\r\n      exact: false,\r\n      redirectTo: \"/contacts\",\r\n      private: false,\r\n      restricted: true,\r\n    },\r\n    {\r\n      name: \"Login\",\r\n      path: \"/login\",\r\n      component: lazy(() =>\r\n        import(\"../pages/LoginPage\" /* webpackChunkName: 'LoginPage' */)\r\n      ),\r\n      exact: false,\r\n      redirectTo: \"/contacts\",\r\n      private: false,\r\n      restricted: true,\r\n    },\r\n  ],\r\n  homepage: {\r\n    name: \"Homepage\",\r\n    path: \"/\",\r\n    component: lazy(() =>\r\n      import(\"../pages/HomePage\" /* webpackChunkName: 'HomePage' */)\r\n    ),\r\n    exact: true,\r\n  },\r\n  phonebook: {\r\n    name: \"Phonebook\",\r\n    path: \"/contacts\",\r\n    component: lazy(() =>\r\n      import(\"../pages/PhonebookPage\" /* webpackChunkName: 'PhonebookPage' */)\r\n    ),\r\n    exact: false,\r\n    redirectTo: \"/\",\r\n  },\r\n  resetHomeUrl: {\r\n    path: \"/goit-react-hw-08-phonebook\",\r\n    redirectTo: \"/\",\r\n  },\r\n};\r\n","import { NavLink } from \"react-router-dom\";\r\nimport styles from \"./AuthNav.module.css\";\r\nimport { mainRoutes } from \"../../routes/mainRoutes\";\r\n\r\nconst AuthNav = () => {\r\n  return (\r\n    <>\r\n      {mainRoutes.auth.map((el) => (\r\n        <NavLink\r\n          key={el.path}\r\n          className={styles.header__link}\r\n          activeClassName={styles.header__link_active}\r\n          to={el.path}\r\n        >\r\n          {el.name}\r\n        </NavLink>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AuthNav;\r\n","import { connect } from \"react-redux\";\r\nimport { logoutUser } from \"../../redux/auth/authOperations\";\r\nimport { getUsername } from \"../../redux/auth/authSelector\";\r\nimport styles from \"./UserNavMenu.module.css\";\r\n\r\nconst UserNavMenu = ({ username, logoutUser }) => {\r\n  return (\r\n    <>\r\n      <p className={styles.nav_user}>\r\n        Welcome, <span className={styles.nav_user__name}>{username}</span>\r\n      </p>\r\n      <button\r\n        className={styles.nav_user__button}\r\n        type=\"button\"\r\n        onClick={logoutUser}\r\n      >\r\n        Logout\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  username: getUsername(state),\r\n});\r\n\r\nexport default connect(mapStateToProps, { logoutUser })(UserNavMenu);\r\n","import { connect } from \"react-redux\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { getIsAuthenticated } from \"../../redux/auth/authSelector\";\r\nimport { mainRoutes } from \"../../routes/mainRoutes\";\r\nimport AuthNav from \"../authNav/AuthNav\";\r\nimport UserNavMenu from \"../userNavMenu/UserNavMenu\";\r\nimport styles from \"./Header.module.css\";\r\n\r\nconst Header = ({ isAuthenticated }) => {\r\n  return (\r\n    <header className={styles.header}>\r\n      <nav className={styles.header__nav}>\r\n        <NavLink\r\n          className={styles.logo__link}\r\n          activeClassName={styles.logo__link_active}\r\n          to={mainRoutes.phonebook.path}\r\n        >\r\n          {mainRoutes.phonebook.name}\r\n        </NavLink>\r\n\r\n        <div className={styles.user__wrapper}>\r\n          {isAuthenticated ? <UserNavMenu /> : <AuthNav />}\r\n        </div>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { getIsAuthenticated } from \"../../redux/auth/authSelector\";\r\n\r\n/**\r\n * - Если маршрут приватный и пользователь залогинен, рендерит компонент\r\n * - В противном случае рендерит Redirect на /login\r\n */\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => {\r\n  return (\r\n    <Route\r\n      {...routeProps}\r\n      render={(props) =>\r\n        isAuthenticated ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to={redirectTo} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { getIsAuthenticated } from \"../../redux/auth/authSelector\";\r\n\r\n/**\r\n * - Если маршрут ограниченный, и пользователь залогинен, рендерит редирект на /todos\r\n * - В противном случае рендерит компонент\r\n */\r\nconst PublicRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={(props) =>\r\n      isAuthenticated && routeProps.restricted ? (\r\n        <Redirect to={redirectTo} />\r\n      ) : (\r\n        <Component {...props} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);\r\n","import { Switch } from \"react-router-dom\";\r\nimport { Suspense } from \"react\";\r\nimport PrivateRoute from \"../privateRoute/PrivateRoute\";\r\nimport PublicRoute from \"../publicRoute.js/PublicRoute\";\r\nimport { mainRoutes } from \"../../routes/mainRoutes\";\r\n\r\nconst Main = () => {\r\n  return (\r\n    <main>\r\n      <Suspense fallback={<h2>Loading...</h2>}>\r\n        <Switch>\r\n          <PublicRoute\r\n            path={mainRoutes.homepage.path}\r\n            component={mainRoutes.homepage.component}\r\n            exact={mainRoutes.homepage.exact}\r\n          />\r\n          <PrivateRoute\r\n            path={mainRoutes.phonebook.path}\r\n            component={mainRoutes.phonebook.component}\r\n            redirectTo={mainRoutes.phonebook.redirectTo}\r\n            exact={mainRoutes.phonebook.exact}\r\n          />\r\n          {mainRoutes.auth.map((el) => (\r\n            <PublicRoute\r\n              key={el.path}\r\n              path={el.path}\r\n              component={el.component}\r\n              exact={el.exact}\r\n              restricted={el.restricted}\r\n              redirectTo={el.redirectTo}\r\n            />\r\n          ))}\r\n          <PrivateRoute\r\n            path={mainRoutes.resetHomeUrl.path}\r\n            redirectTo={mainRoutes.resetHomeUrl.redirectTo}\r\n            restricted\r\n          />\r\n        </Switch>\r\n      </Suspense>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getCurrentUser } from \"../redux/auth/authOperations\";\nimport Header from \"./header/Header\";\nimport Main from \"./main/Main\";\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.getCurrentUser();\n  }\n\n  render() {\n    return (\n      <>\n        <Header />\n        <Main />\n      </>\n    );\n  }\n}\n\nexport default connect(null, { getCurrentUser })(App);\n","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { combineReducers } from \"redux\";\r\nimport {\r\n  getCurrentUserError,\r\n  getCurrentUserSuccess,\r\n  loginError,\r\n  loginSuccess,\r\n  logoutError,\r\n  logoutSuccess,\r\n  registerError,\r\n  registerSuccess,\r\n} from \"./authActions\";\r\n\r\nconst user = createReducer(\r\n  { name: \"\", email: \"\" },\r\n  {\r\n    [registerSuccess]: (_, { payload }) => payload.user,\r\n    [loginSuccess]: (_, { payload }) => payload.user,\r\n    [logoutSuccess]: () => {},\r\n    [getCurrentUserSuccess]: (_, { payload }) => payload,\r\n  }\r\n);\r\n\r\nconst token = createReducer(null, {\r\n  [registerSuccess]: (_, { payload }) => payload.token,\r\n  [loginSuccess]: (_, { payload }) => payload.token,\r\n  [logoutSuccess]: (_, { payload }) => null,\r\n});\r\n\r\nconst setError = (_, { payload }) => payload;\r\n\r\nconst error = createReducer(\"\", {\r\n  [registerError]: setError,\r\n  [loginError]: setError,\r\n  [logoutError]: setError,\r\n  [getCurrentUserError]: setError,\r\n});\r\n\r\nconst isAuthenticated = createReducer(false, {\r\n  [registerSuccess]: () => true,\r\n  [registerError]: () => false,\r\n  [loginSuccess]: () => true,\r\n  [loginError]: () => false,\r\n  [logoutSuccess]: () => false,\r\n  [getCurrentUserSuccess]: () => true,\r\n  [getCurrentUserError]: () => false,\r\n});\r\n\r\nexport const authReducer = combineReducers({\r\n  user,\r\n  isAuthenticated,\r\n  token,\r\n  error,\r\n});\r\n","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport {\r\n  addContactRequest,\r\n  addContactError,\r\n  addContactSuccess,\r\n  fetchContactsError,\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  removeContactRequest,\r\n  removeContactSuccess,\r\n  removeContactError,\r\n} from \"./contactsActions\";\r\n\r\nexport const contactsItemReducer = createReducer([], {\r\n  [fetchContactsSuccess]: (_, { payload }) => payload,\r\n\r\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\r\n\r\n  [removeContactSuccess]: (state, { payload }) =>\r\n    state.filter((el) => el.id !== payload),\r\n});\r\n\r\nexport const error = createReducer(\"\", {\r\n  [fetchContactsError]: (_, { payload }) => payload,\r\n  [addContactError]: (_, { payload }) => payload,\r\n  [removeContactError]: (_, { payload }) => payload,\r\n});\r\n\r\nexport const loader = createReducer(false, {\r\n  [fetchContactsRequest]: () => true,\r\n  [fetchContactsSuccess]: () => false,\r\n  [fetchContactsError]: () => false,\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [removeContactRequest]: () => true,\r\n  [removeContactSuccess]: () => false,\r\n  [removeContactError]: () => false,\r\n});\r\n","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { updateFilterValue } from \"./filterActions\";\r\n\r\nconst contactsFilterReducer = createReducer(\"\", {\r\n  [updateFilterValue]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default contactsFilterReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport { contactsItemReducer, loader } from \"./contacts/contactsReducer\";\r\nimport contactsFilterReducer from \"./filter/filterReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  items: contactsItemReducer,\r\n  filter: contactsFilterReducer,\r\n  isLoading: loader,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport { authReducer } from \"./auth/authReducer\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport rootReducer from \"./rootReducer\";\r\n\r\nconst authPersistConfig = {\r\n  key: \"token\",\r\n  storage,\r\n  whitelist: [\"token\"],\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    contacts: rootReducer,\r\n  },\r\n  middleware: getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nconst reduxStore = { store, persistor };\r\n\r\nexport default reduxStore;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport reduxStore from \"./redux/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={reduxStore.store}>\n      <PersistGate loading={null} persistor={reduxStore.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const fetchContactsRequest = createAction(\r\n  \"contacts/fetchContactsRequest\"\r\n);\r\nexport const fetchContactsSuccess = createAction(\r\n  \"contacts/fetchContactsSuccess\"\r\n);\r\nexport const fetchContactsError = createAction(\"contacts/fetchContactsError\");\r\n\r\nexport const addContactRequest = createAction(\"contacts/addContactRequest\");\r\nexport const addContactSuccess = createAction(\"contacts/addContactSucces\");\r\nexport const addContactError = createAction(\"contacts/addContactError\");\r\nexport const removeContactRequest = createAction(\r\n  \"contacts/removeContacRequest\"\r\n);\r\nexport const removeContactSuccess = createAction(\"contacts/removeContacSucces\");\r\nexport const removeContactError = createAction(\"contacts/removeContacError\");\r\n"],"sourceRoot":""}